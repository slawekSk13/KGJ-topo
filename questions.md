state -> checkCode nie tak, jak bym oczekiwał
firebase -> jak zareagować żeby zwrócić albo array albo error